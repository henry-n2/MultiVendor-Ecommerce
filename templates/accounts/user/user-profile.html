{% extends "accounts/user/dashboard-base.html" %}

{% block dashboard-content %}
<section style="background-color: #eee;">
  
    <div class="container py-5 my-5">
      
      {% include 'baseFiles/messages.html' %}
      {% comment %} <div class="row">
        <div class="col">
          <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
            <ol class="breadcrumb mb-0">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item"><a href="#">User</a></li>
              <li class="breadcrumb-item active" aria-current="page">User Profile</li>
            </ol>
          </nav>
        </div>
      </div> {% endcomment %}
  
      {% comment %} <div class="row">
        <div class="col-lg-4">

          <div class="card mb-4">
            <div class="card-body text-center">
              <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                class="rounded-circle img-fluid" style="width: 150px;">
              <h5 class="my-3">{{request.user.first_name}}</h5>
              <p class="text-muted mb-1">Full Stack Developer</p>
              <p class="text-muted mb-4">Bay Area, San Francisco, CA</p> {% endcomment %}
              {% comment %} <div class="row">
                <div class="col-lg-4">
                    <div class="card mb-4">
                        <div class="card-body text-center">
                            {% if request.user.profile_picture %}
                                <img src="{{ request.user.profile_picture.url }}" alt="avatar"
                                     class="rounded-circle img-fluid" style="width: 150px;">
                            {% else %}
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                                     class="rounded-circle img-fluid" style="width: 150px;">
                            {% endif %}
                            
                            <h5 class="my-3">{{ request.user.first_name }} {{ request.user.last_name }}</h5>
                            <p class="text-muted mb-1">{{ request.user.user_role }}</p>
                            <p class="text-muted mb-4">
                                {% if request.user.customer_type %}
                                    {{ request.user.customer_type }}
                                {% else %}
                                    Not Specified
                                {% endif %}
                            </p>
                            <p class="text-muted mb-4">{{ request.user.email }}</p>
                            <p class="text-muted mb-4">{{ request.user.location|default:"Location not set" }}</p>
                        </div>
                    </div>
                </div>
            </div> {% endcomment %}
            <!-- Profile Card -->
{% comment %} <div class="row justify-content-center">
  <div class="col-lg-4">
      <div class="card mb-4 shadow-lg border-0">
          <div class="card-body text-center p-4">
              {% if request.user.profile_picture %}
                  <img src="{{ request.user.profile_picture.url }}" alt="avatar"
                       class="rounded-circle img-fluid border border-3 border-primary mb-3" style="width: 150px; height: 150px; object-fit: cover;">
              {% else %}
                  <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                       class="rounded-circle img-fluid border border-3 border-primary mb-3" style="width: 150px; height: 150px; object-fit: cover;">
              {% endif %}
              
              <h4 class="my-3 fw-bold">{{ request.user.first_name }} {{ request.user.last_name }}</h4>
              <p class="text-muted mb-1 badge bg-info text-dark p-2">{{ request.user.user_role }}</p>
              <p class="text-muted mb-1">{{ request.user.customer_type|default:"Not Specified" }}</p>
              <p class="text-muted mb-2">{{ request.user.email }}</p>
              <p class="text-muted mb-4">
                  <i class="bi bi-geo-alt-fill"></i> {{ request.user.location|default:"Location not set" }}
              </p>
              
              <a href="{% url 'edit_profile' %}" class="btn btn-primary btn-sm px-4 rounded-pill">Edit Profile</a>
          </div>
      </div>
  </div>
</div>



             {% endcomment %}
              {% comment %} <div class="d-flex justify-content-center mb-2">
                <button type="button" class="btn btn-primary">Follow</button>
                <button type="button" class="btn btn-outline-primary ms-1">Message</button>
              </div> {% endcomment %}
            {% comment %} </div>
          </div> {% endcomment %}

          {% comment %} <div class="card mb-4 mb-lg-0">
            <div class="card-body p-0">
              <ul class="list-group list-group-flush rounded-3">
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fas fa-globe fa-lg text-warning"></i>
                  <p class="mb-0">https://mdbootstrap.com</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-github fa-lg" style="color: #333333;"></i>
                  <p class="mb-0">mdbootstrap</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-twitter fa-lg" style="color: #55acee;"></i>
                  <p class="mb-0">@mdbootstrap</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                  <p class="mb-0">mdbootstrap</p>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                  <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                  <p class="mb-0">mdbootstrap</p>
                </li>
              </ul>
            </div>
          </div> {% endcomment %}


        {% comment %} </div>
        <div class="col-lg-8">


          <div class="card mb-4">

            <div class="card-body"> {% endcomment %}
              {% comment %} <h4>Edit Profile<i class='fas fa-edit'></i></h4> {% endcomment %}


              <!-- Button to trigger modal -->
              {% comment %} <button type="button" class="btn btn-primary mb-2" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                Edit Profile
              </button>

              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Full Name</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">{{request.user.first_name}} {{request.user.last_name}}</p>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Email</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">{{request.user.email}}</p>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Phone</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">{{request.user.mobile}}</p>
                </div>
              </div>
              <hr> {% endcomment %}
              {% comment %} <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Mobile</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">(098) 765-4321</p>
                </div>
              </div>
              <hr> {% endcomment %}

              
<!-- Profile Section -->
{% comment %} <div class="row justify-content-center">
  <div class="col-lg-4">
      <div class="card mb-4 shadow-lg border-0 rounded-4">
          <div class="card-body text-center p-4">
              {% if request.user.profile_picture %}
                  <img src="{{ request.user.profile_picture.url }}" alt="avatar"
                       class="rounded-circle img-fluid border border-3 border-primary mb-3" style="width: 150px; height: 150px; object-fit: cover;">
              {% else %}
                  <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                       class="rounded-circle img-fluid border border-3 border-primary mb-3" style="width: 150px; height: 150px; object-fit: cover;">
              {% endif %}

              <h4 class="my-3 fw-bold text-primary">{{ request.user.first_name }} {{ request.user.last_name }}</h4>
              {% comment %} <p class="text-muted mb-1 badge bg-info text-dark p-2">{{ request.user.user_role }}</p> {% endcomment %}
              {% comment %} <p class="text-muted mb-1 badge bg-info text-dark p-2">
                {% if request.user.user_role == '1' %}
                    Personal
                {% elif request.user.user_role == '2' %}
                    Corporate
                {% elif request.user.user_role == '3' %}
                    VIP
                {% else %}
                    Not Specified
                {% endif %}
            </p>
              <p class="text-muted mb-2">{{ request.user.email }}</p>
              <p class="text-muted mb-4"><i class="bi bi-geo-alt-fill"></i> {{ request.user.location|default:"Location not set" }}</p> {% endcomment %}

              {% comment %} <a href="{% url 'edit_profile' %}" class="btn btn-primary btn-sm px-4 rounded-pill">Edit Profile</a> {% endcomment %}
          {% comment %} </div>
      </div>
  </div> {% endcomment %}

  <!-- User Info Card -->
  {% comment %} <div class="col-lg-8">
      <div class="card mb-4 shadow-lg border-0 rounded-4">
          <div class="card-body p-4">
              <h4 class="mb-4">Profile Details <i class="fas fa-edit text-primary"></i></h4>

              <div class="row mb-3">
                  <div class="col-sm-3"><p class="fw-bold mb-0">Full Name</p></div>
                  <div class="col-sm-9"><p class="text-muted">{{ request.user.first_name }} {{ request.user.last_name }}</p></div>
              </div>
              <hr>

              <div class="row mb-3">
                  <div class="col-sm-3"><p class="fw-bold mb-0">Email</p></div>
                  <div class="col-sm-9"><p class="text-muted">{{ request.user.email }}</p></div>
              </div>
              <hr>

              <div class="row mb-3">
                  <div class="col-sm-3"><p class="fw-bold mb-0">Phone</p></div>
                  <div class="col-sm-9"><p class="text-muted">{{ request.user.mobile|default:"Not Available" }}</p></div>
              </div>
              <hr>

              <div class="row mb-3">
                <div class="col-sm-3"><p class="fw-bold mb-0">Type</p></div>
                <div class="col-sm-9">
                    <p class="text-muted">
                        {% if request.user.user_role == '1' %}
                            Customer
                        {% elif request.user.user_role == '2' %}
                            Vendor
                        {% elif request.user.user_role == '3' %}
                            Boss
                        {% else %}
                            Not Specified
                        {% endif %}
                    </p>
                </div>
            </div>
              <hr>

              <div class="row mb-3">
                  <div class="col-sm-3"><p class="fw-bold mb-0">Customer Type</p></div>
                  <div class="col-sm-9"><p class="text-muted">{{ request.user.customer_type|default:"Not Specified" }}</p></div>
              </div>
          </div>
      </div>
  </div>
</div>

              <div class="row">
                <div class="col-sm-3">
                  <p class="mb-0">Address</p>
                </div>
                <div class="col-sm-9">
                  <p class="text-muted mb-0">Demo Address, San Francisco, CA</p>
                </div>
              </div>
            </div>
          </div> {% endcomment %}

           <!-- Modal -->
            {% comment %} <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                  <div class="modal-content">
                      <div class="modal-header">
                          <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <form method="post" action="{% url 'user_profile' %}">
                          {% csrf_token %}
                          <div class="modal-body">
                              {{ form.as_p }}
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                              <button type="submit" class="btn btn-primary">Save changes</button>
                          </div>
                      </form>
                  </div>
              </div>
            </div>
          

          <div class="row">
            <div class="col-md-6">
              <div class="card mb-4 mb-md-0">
                <div class="card-body">
                  <h3><a href="{% url 'user_dashboard' %}">Oder History ></a></h3>
                </div>
              </div>
            </div>



          </div>
        </div>
      </div>
    </div> {% endcomment %}


    <div class="row justify-content-center">
      <!-- Profile Card -->
      <div class="col-lg-4">
          <div class="card mb-4 shadow-lg border-0 rounded-4">
              <div class="card-body text-center p-4">
                  {% if request.user.profile_picture %}
                      <img src="{{ request.user.profile_picture.url }}" alt="avatar"
                           class="rounded-circle img-fluid border border-3 border-primary mb-3 shadow-sm" style="width: 150px; height: 150px; object-fit: cover;">
                  {% else %}
                      <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                           class="rounded-circle img-fluid border border-3 border-primary mb-3 shadow-sm" style="width: 150px; height: 150px; object-fit: cover;">
                  {% endif %}
    
                  <h4 class="my-3 fw-bold text-primary">{{ request.user.first_name }} {{ request.user.last_name }}</h4>
                  
                  <p class="text-muted mb-1 badge bg-info text-dark p-2 rounded-pill">
                    {% if request.user.user_role == '1' %}
                        Customer
                    {% elif request.user.user_role == '2' %}
                        Vendor
                    {% elif request.user.user_role == '3' %}
                        Boss
                    {% else %}
                        Not Specified
                    {% endif %}
                  </p>
                  
                  <p class="text-muted mb-2">{{ request.user.email }}</p>
                  <p class="text-muted mb-4"><i class="bi bi-geo-alt-fill"></i> {{ request.user.location|default:"Location not set" }}</p>
                  
                  <!-- Edit Profile Button -->
                  <button type="button" class="btn btn-primary rounded-pill shadow-sm mt-3" data-bs-toggle="modal" data-bs-target="#editProfileModal">
                      Edit Profile
                  </button>
              </div>
          </div>
      </div>
    
      <!-- Profile Details -->
      <div class="col-lg-8">
          <div class="card mb-4 shadow-lg border-0 rounded-4">
              <div class="card-body p-4">
                  <h4 class="mb-4 text-primary">Profile Details <i class="fas fa-edit text-primary"></i></h4>
    
                  <div class="row mb-3">
                      <div class="col-sm-3"><p class="fw-bold mb-0">Full Name</p></div>
                      <div class="col-sm-9"><p class="text-muted">{{ request.user.first_name }} {{ request.user.last_name }}</p></div>
                  </div>
                  <hr>
    
                  <div class="row mb-3">
                      <div class="col-sm-3"><p class="fw-bold mb-0">Email</p></div>
                      <div class="col-sm-9"><p class="text-muted">{{ request.user.email }}</p></div>
                  </div>
                  <hr>
    
                  <div class="row mb-3">
                      <div class="col-sm-3"><p class="fw-bold mb-0">Phone</p></div>
                      <div class="col-sm-9"><p class="text-muted">{{ request.user.mobile|default:"Not Available" }}</p></div>
                  </div>
                  <hr>
    
                  <div class="row mb-3">
                    <div class="col-sm-3"><p class="fw-bold mb-0">User Role</p></div>
                    <div class="col-sm-9">
                        <p class="text-muted">
                            {% if request.user.user_role == '1' %}
                                Customer
                            {% elif request.user.user_role == '2' %}
                                Vendor
                            {% elif request.user.user_role == '3' %}
                                Boss
                            {% else %}
                                Not Specified
                            {% endif %}
                        </p>
                    </div>
                  </div>
                  <hr>
    
                  <div class="row mb-3">
                      <div class="col-sm-3"><p class="fw-bold mb-0">Type</p></div>
                      <div class="col-sm-9">
                          <p class="text-muted">
                              {% if request.user.user_role  == '1' %}
                                  Personal
                              {% elif request.user.user_role  == '2' %}
                                  Corporate
                              {% elif request.user.user_role  == '3' %}
                                  VIP
                              {% else %}
                                  Not Specified
                              {% endif %}
                          </p>
                      </div>
                  </div>
                  <hr>    
    <!-- Order History Card -->
    <div class="row mt-4">
      <div class="col-md-6">
        <div class="card mb-4 shadow-lg border-0 rounded-4">
          <div class="card-body">
            <h3><a href="{% url 'user_dashboard' %}" class="text-primary">Order History &gt;</a></h3>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content rounded-4 border-0 shadow-lg">
                <div class="modal-header bg-primary text-white rounded-top-4">
                    <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form method="post" action="{% url 'user_profile' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="modal-body p-4">
                        {{ form.as_p }}
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary rounded-pill">Save changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    
  </section>
  {% load static %}
  <script src="{% static 'assets/js/vendor/jquery.js' %}"></script>
<script src="{% static 'assets/js/vendor/waypoints.js' %}"></script>
<script src="{% static 'assets/js/bootstrap-bundle.js' %}"></script>
<script src="{% static 'assets/js/meanmenu.js' %}"></script>
<script src="{% static 'assets/js/swiper-bundle.js' %}"></script>
<script src="{% static 'assets/js/tweenmax.js' %}"></script>
<script src="{% static 'assets/js/owl-carousel.js' %}"></script>
<script src="{% static 'assets/js/magnific-popup.js' %}"></script>
<script src="{% static 'assets/js/parallax.js' %}"></script>
<script src="{% static 'assets/js/backtotop.js' %}"></script>
<script src="{% static 'assets/js/nice-select.js' %}"></script>
<script src="{% static 'assets/js/countdown.min.js' %}"></script>
<script src="{% static 'assets/js/counterup.js' %}"></script>
<script src="{% static 'assets/js/ui-slider-range.js' %}"></script>
<script src="{% static 'assets/js/wow.js' %}"></script>
<script src="{% static 'assets/js/isotope-pkgd.js' %}"></script>
<script src="{% static 'assets/js/imagesloaded-pkgd.js' %}"></script>
<script src="{% static 'assets/js/ajax-form.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>
{% endblock dashboard-content %}





    